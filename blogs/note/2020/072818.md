---
title: wordpress搭建
date: 2020-07-28
tags:
 - wordpress
categories:
 - note
---

![RUNOOB 图标](../../images/runoob-logo.png)


WordPress是使用`PHP` + `MySQL数据库`语言，基于GPL开源协义开发的博客平台，也可以把 WordPress当作一个内容管理系统（CMS）来使用。
WordPress有许多第三方开发的免费模板，安装方式简单易用，有着丰富的插件和模板，能够快速搭建一个站点。

特点：

+ 安装简单，不需要过多的配置即可搭建完成
+ 丰富的主题和插件（免费、付费）
+ seo搜索引擎友好
+ 强大的社区支持
+ 根据官方的API，可以高度个性化定制
+ 内容未静态化，内容都需要经过服务器处理
+ 兼容性以及过多的冗余项


## 必备插件：

### All In One WP Security
All In One WP Security除了保护用户账号的安全、注册登录的安全、数据库的安全、文件系统安全，还包括了黑名单管理、防火墙防护、暴力破解防护、垃圾评论防护、安全扫描器等功能。
而修改默认登录用户名，修改数据库前缀、限制登录尝试、修改登录地址统统都可以在插件里面一键完成，避免了直接修改 wordpress 内核文件和数据库带来的麻烦和风险。


### WP Super Cache
WordPress生成单独文章都是动态的，每次访问都是需要经过服务器处理，这样对服务器的负荷会比较大。使用WP Super Cache将文章内容生成cache，每次访问只需要读取静态文件，那将减少服务器的访问次数，提升加载速度。



### Autoptimize
随着时安装的主题、体验增强插件增多，站点所请求的css和js外链接也会变得越来越多，Autoptimize可以合并、压缩 js 和css 文件以及HTML代码。简化请求次数，
也可以将可移动css到页头，移动js 到页脚。同时也可以禁止谷歌字体、移除emojis、删除查询字符串等CSS，提升页面加载速度。


### Code Snippets(推荐)
Code Snippets可以插入代码片段到页面中，修改站点功能一般会在主题的Function.php中修改源代码。但是如果进行主题升级则增加的代码会被覆盖掉，需要手动在Function.php重新添加一次。
用Code Snippets则可以避免此问题，插件支持PHP、JS、CSS三种模式，增加的代码将会插入到页面中允许，不用担心主题升级时被覆盖。


### Elementor
前端拖放页面生成器。使用它拖放界面轻松地为WordPress页面实现自定义UI、布局。部分功能收费。


### EWWW Image Optimizer
在图片上传时可以进行图片压缩、转换，同时也可以优化服务器之前上传的图片。
+ 支持格式有jpg、png、gif、webP、PDF
+ 可以设置图片的压缩率（0-100）
+ 支持设置转换的最大宽高
+ 禁止生成缩略图
插件的部分配置收费，并且没有中文版。另外需要注意的是该插件需要服务器PHP中的```exec```这个函数是处于开启状态，不然无法使用


### External Media without Import
wordpress中只能上传文件才能在多媒体库中选择，这样对于外链图片很不方便，需要下载到本地再上传到到站点才能在媒体库中选择。
用该插件，可以在媒体库中直接导入图片，文章编辑时直接插入图片即可。需要注意的是，导入的是图片的链接地址，源文件并未上传，图片还是原有的引用地址。

### FileBird Lite
媒体库所有上传的文件全部都放在一起，当文件过多时查找很费时间。
用该插件可以增加文件分类功能，方便查找。

### Gallery Images Ape
幻灯片、画廊插件

### Media Cloud
站点使用的是腾讯云COS、或者亚马逊的AWS等云存储时，推荐使用Media Cloud

### WordPress轻水印插件
没有其余功能，一款轻量级的轻水印插件，

### WP-PostViews
WP-PostViews可以显示帖子/页面的查看次数，原理是在文章页面中增加一个ajax请求，每次请求浏览数+1，插件安装后需要手动在文章循环体中手动增加psetview函数。

### WPUFile UCloud对象存储
>如果站点使用的是UCloud的对象存储，推荐使用该插件来存储静态文件，如果没有使用对象存储也推荐使用UCloud，每个月20G的免费流量，10G的免费空间真的很香！
WPUFile UCloud可以同步附件内容远程至UCloud对象存储中，实现网站数据与静态资源分离，提高网站加载速度。


## 优化
nginx配置静态化

自动备份数据库

自动备份网站

日志自定义

安全,账户爆破

静态资源CDN

登录路径迁移

登录账号锁定

wordpress 移除冗余meta

增加鉴权，禁止访问wp-json

过滤样式中的账户名

禁止生成过多缩略图

增加统计代码

镜像回源


## 存储备份
由于站点的图片、视频是放在UCloud的对象存储中的。为了保险，我们需要将数据在另外的地方进行备份。
可以选择备份到腾讯云的COS，在自己机器上跑一个任务脚本，每隔一段时间运行一次，利用UCloud的下载工具下载文件到本地，同时开启腾讯云对象存储管理工具中的自动上传功能，就可以实现自动备份。
